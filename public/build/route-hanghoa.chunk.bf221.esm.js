(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{mocv:function(e,t,n){"use strict";(function(e){var a=n("8VmE"),l=n.n(a),c=n("hosL"),i=n("QRet"),o=n("2//r"),r=n("TZaN"),s=n("H4M2"),h=n("bTPH"),d=n("g5Li"),b=n("qgEq"),u=n("qnSA"),p=n("PWxM"),g=n("J+xt"),O=n("fRgM"),m=n("XkWK"),j=n("8MV/"),v=n("/TTE"),f=n("Lrno"),y=n("CEWi"),w=n("qDEd"),C=n("t7j9");const{TextArea:x}=o.a,{Text:k,Title:z}=r.a,E=["#F06292","#BA68C8","#9575CD","#303F9F","#283593","#304FFE","#1E88E5","#2962FF","#00E5FF","#00B8D4","#006064","#00BFA5","#33691E","#64DD17","#F57F17","#FF9100","#FF3D00","#8D6E63"];t.a=()=>{const[t,n]=Object(i.k)([]),[a,r]=Object(i.k)({current:1,pageSize:10,hideOnSinglePage:!0,pageSizeOptions:[10,20,50,100]}),[F,S]=Object(i.k)(!1),N=[{title:Object(c.h)(z,{ellipsis:!0,level:5},"#"),dataIndex:"index",render:(e,t,n)=>Object(c.h)(k,null,n+1),width:"2%",align:"center"},{title:Object(c.h)(z,{ellipsis:!0,level:5},"Tên hàng"),dataIndex:"name",render:(e,t)=>Object(c.h)(k,null,t.name),width:"80%"},{title:Object(c.h)(z,{ellipsis:!0,level:5},"Hành động"),dataIndex:"action",align:"center",width:"auto",render:(e,t)=>Object(c.h)(k,{ellipsis:!0},Object(c.h)(s.a,{type:"primary",onClick:()=>$(t),style:{marginRight:"0.25rem"}},Object(c.h)(j.a,null)),Object(c.h)(h.a,{title:"Bạn có chắc muốn xoá?",onConfirm:()=>T(t._id),okText:"Ok",cancelText:"Cancel"},Object(c.h)(s.a,{type:"danger"},Object(c.h)(v.a,null))))}],I=async(e,t)=>{S(!0);let a=await Object(C.c)(e,t);n(a.list),r(e=>l()({},e,{total:a.totalItem,current:a.pageNumber,pageSize:a.pageSize})),S(!1)};Object(i.d)(()=>{I(a.current,a.pageSize)},[]);const T=async e=>{await Object(C.b)(e),d.b.success("Xoá thành công"),I(a.current,a.pageSize)},[P,R]=Object(i.k)([]),[A,M]=Object(i.k)([]);Object(i.d)(()=>{Object(y.c)({active:!0}).then(e=>R(e)),Object(w.c)({active:!0}).then(e=>M(e))},[]);const[D,_]=Object(i.k)(!1),[L,q]=Object(i.k)(!1),[W,B]=Object(i.k)(null),[J,K]=Object(i.k)(null),[V]=b.a.useForm(),H=({label:e,closable:t,onClose:n})=>{const a=Object(i.h)(()=>E[Math.floor(Math.random()*E.length)],[]);return Object(c.h)(u.a,{color:a,closable:t,onClose:n,style:{marginRight:"0.25rem"}},e)},$=e=>{B(e),V.setFieldsValue({name:null==e?void 0:e.name,description:null==e?void 0:e.description,color:null==e?void 0:e.color,size:null==e?void 0:e.size,sexes:null==e?void 0:e.sexes}),_(!0)},X=(e,t)=>t.find(t=>t._id===e).name,G=[{title:Object(c.h)(k,{ellipsis:!0},"#"),dataIndex:"index",render:(e,t,n)=>Object(c.h)(k,null,n+1),width:"2%",align:"center"},{title:Object(c.h)(k,{ellipsis:!0},"Màu"),dataIndex:"color",render:(e,t)=>Object(c.h)(k,null,X(t.color,P)),width:"auto"},{title:Object(c.h)(k,{ellipsis:!0},"Size"),dataIndex:"size",render:(e,t)=>Object(c.h)(k,null,X(t.size,A)),width:"auto"},{title:Object(c.h)(k,{ellipsis:!0},"Nam hay nữ"),dataIndex:"sexes",render:(e,t)=>Object(c.h)(k,null,t.sexes),width:"auto"},{title:Object(c.h)(k,{ellipsis:!0},"Kích hoạt"),dataIndex:"active",width:"10%",render:(e,t,n)=>Object(c.h)("div",{style:{textAlign:"center"}},Object(c.h)(p.a,{defaultChecked:t.active,onChange:e=>((e,t)=>{K(n=>(n[t].active=e,n))})(e,n)}))}];return Object(c.h)(e,null,Object(c.h)(g.a,{bordered:!0,columns:N,rowKey:e=>e._id,dataSource:t,pagination:a,loading:F,onChange:e=>{I(e.current,e.pageSize)}}),Object(c.h)("div",{style:{display:"flex",marginTop:"1rem"}},Object(c.h)(s.a,{type:"primary",size:"large",onClick:()=>$()},Object(c.h)(f.a,null))),Object(c.h)(O.a,{title:Object(c.h)(z,{level:3},(W?"Chỉnh sửa":"Tạo mới")+" hàng"),visible:D,onOk:async()=>{q(!0),V.validateFields().then(async e=>{V.resetFields(),W?(await Object(C.d)(W._id,e),d.b.success("Cập nhật thành công"),I(a.current,a.pageSize)):(await Object(C.a)(e),d.b.success("Tạo mới thành công"),I(a.current,a.pageSize)),B(null),q(!1),_(!1)}).catch(()=>{q(!1)})},onCancel:()=>{V.resetFields(),_(!1),B(null)},confirmLoading:L,width:"70%"},Object(c.h)(b.a,{form:V,layout:"vertical",name:"hanghoaForm",preserve:!1,onValuesChange:(e,t)=>{const{size:n,color:a,sexes:l}=t;let c=[];for(const e of a)for(const t of n)for(const n of l)c.push({color:e,size:t,sexes:n,active:!0});K(c)}},Object(c.h)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridColumnGap:"1rem"}},Object(c.h)("div",null,Object(c.h)(b.a.Item,{name:"name",label:Object(c.h)(z,{level:5},"Tên hàng"),rules:[{required:!0,message:"Không được để tên hàng trống"}]},Object(c.h)(o.a,{placeholder:"Tên hàng"})),Object(c.h)(b.a.Item,{name:"description",label:Object(c.h)(z,{level:5},"Mô tả hàng")},Object(c.h)(x,{autoSize:{minRows:6,maxRows:10},placeholder:"Mô tả hàng"}))),Object(c.h)("div",null,Object(c.h)(b.a.Item,{name:"color",label:Object(c.h)(z,{level:5},"Màu sắc hàng")},Object(c.h)(m.a,{mode:"multiple",showArrow:!0,allowClear:!0,style:{width:"100%"},placeholder:"Chọn màu",tagRender:H,size:"large",options:P.map(e=>({label:e.name,value:e._id}))})),Object(c.h)(b.a.Item,{name:"size",label:Object(c.h)(z,{level:5},"Size hàng")},Object(c.h)(m.a,{mode:"multiple",showArrow:!0,allowClear:!0,style:{width:"100%"},placeholder:"Chọn size",tagRender:H,size:"large",options:A.map(e=>({label:e.name,value:e._id}))})),Object(c.h)(b.a.Item,{name:"sexes",label:Object(c.h)(z,{level:5},"Đồ Nam hay Nữ")},Object(c.h)(m.a,{mode:"multiple",showArrow:!0,allowClear:!0,style:{width:"100%"},placeholder:"Chọn giới tính",tagRender:H,size:"large",options:[{label:"Nam",value:"Nam"},{label:"Nữ",value:"Nữ"}]}))))),Object(c.h)(z,{level:5},"Các phiên bản hàng"),Object(c.h)(g.a,{bordered:!0,columns:G,rowKey:e=>e.color+e.sexes+e.size,dataSource:J,pagination:{pageSize:5}})))}}).call(this,n("hosL").Fragment)},qnSA:function(e,t,n){"use strict";var a=n("OvAC"),l=n.n(a),c=n("8VmE"),i=n.n(c),o=n("nxTg"),r=n.n(o),s=n("l8WD"),h=n("8Jek"),d=n.n(h),b=n("x9u5"),u=n("EWXb"),p=n.n(u),g=n("Bfez"),O=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n},m=function(e){var t,n=s.useContext(g.b).getPrefixCls,a=e.prefixCls,c=e.className,o=e.checked,r=O(e,["prefixCls","className","checked"]),h=n("tag",a),b=d()(h,(t={},l()(t,"".concat(h,"-checkable"),!0),l()(t,"".concat(h,"-checkable-checked"),o),t),c);return delete r.onChange,s.createElement("span",i()({},r,{className:b,onClick:function(t){var n=e.onChange,a=e.onClick;n&&n(!e.checked),a&&a(t)}}))},j=n("nxLd"),v=n("wWt5"),f=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n},y=new RegExp("^(".concat(j.a.join("|"),")(-inverse)?$")),w=new RegExp("^(".concat(j.b.join("|"),")$")),C=function(e,t){var n,a=e.prefixCls,c=e.className,o=e.style,h=e.children,u=e.icon,O=e.color,m=e.onClose,j=e.closeIcon,C=e.closable,x=void 0!==C&&C,k=f(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),z=s.useContext(g.b),E=z.getPrefixCls,F=z.direction,S=s.useState(!0),N=r()(S,2),I=N[0],T=N[1];s.useEffect((function(){"visible"in k&&T(k.visible)}),[k.visible]);var P=function(){return!!O&&(y.test(O)||w.test(O))},R=i()({backgroundColor:O&&!P()?O:void 0},o),A=P(),M=E("tag",a),D=d()(M,(n={},l()(n,"".concat(M,"-").concat(O),A),l()(n,"".concat(M,"-has-color"),O&&!A),l()(n,"".concat(M,"-hidden"),!I),l()(n,"".concat(M,"-rtl"),"rtl"===F),n),c),_=function(e){e.stopPropagation(),m&&m(e),e.defaultPrevented||"visible"in k||T(!1)},L="onClick"in k||h&&"a"===h.type,q=Object(b.a)(k,["visible"]),W=u||null,B=W?s.createElement(s.Fragment,null,W,s.createElement("span",null,h)):h,J=s.createElement("span",i()({},q,{ref:t,className:D,style:R}),B,x?j?s.createElement("div",{className:"".concat(M,"-close-icon"),onClick:_},j):s.createElement(p.a,{className:"".concat(M,"-close-icon"),onClick:_}):null);return L?s.createElement(v.a,null,J):J},x=s.forwardRef(C);x.displayName="Tag",x.CheckableTag=m;t.a=x},t7j9:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return r}));var a=n("czhI"),l=n.n(a);const c=async(e,t,n)=>{const a=`/api/hanghoa/page?pageNumber=${e}&pageSize=${t}`+(n?"&condition="+JSON.stringify(n):"");let c=await l.a.get(a);return c.data.error?[]:c.data.result},i=async e=>{let t=await l.a.post("/api/hanghoa",e);return t.data.error?[]:t.data.result},o=async(e,t)=>{let n=await l.a.put("/api/hanghoa",{_id:e,changes:t});return n.data.error?[]:n.data.result},r=async e=>{const t="/api/hanghoa?_id="+e;await l.a.delete(t)}},vrAG:function(e,t,n){"use strict";n.r(t);var a=n("hosL"),l=n("dZF8"),c=n("mocv");const{Content:i}=l.a;t.default=()=>Object(a.h)(i,{style:{margin:"1rem 1rem 0 1rem"}},Object(a.h)("div",{className:"site-layout-background",style:{padding:24,minHeight:360,background:"white"}},Object(a.h)(c.a,null)))}}]);
//# sourceMappingURL=route-hanghoa.chunk.bf221.esm.js.map