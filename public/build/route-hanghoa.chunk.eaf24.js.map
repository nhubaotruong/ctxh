{"version":3,"sources":["webpack:///./components/hanghoa/Hanghoa.jsx","webpack:///../node_modules/antd/es/tag/CheckableTag.js","webpack:///../node_modules/antd/es/tag/index.js","webpack:///./utils/hanghoa.js","webpack:///./routes/hanghoa.jsx"],"names":["TextArea","Input","Text","Typography","Title","tagColor","Hanghoa","useState","data","setData","current","pageSize","hideOnSinglePage","pageSizeOptions","pagination","setPagination","loading","setLoading","columns","title","ellipsis","level","dataIndex","render","text","record","index","width","align","name","type","onClick","showModalFunc","style","marginRight","onConfirm","deleteRecord","_id","okText","cancelText","fetchData","async","pageNumber","res","getHanghoaPage","list","total","totalItem","useEffect","deleteHanghoa","message","success","colorList","setColorList","sizeList","setSizeList","getColorAll","active","then","getSizeAll","showModal","setShowModal","confirmLoading","setConfirmLoading","currentModalData","setCurrentModalData","variantsData","setVariantsData","form","Form","useForm","tagRender","label","closable","onClose","color","useMemo","Math","floor","random","length","setFieldsValue","description","size","sexes","findName","find","x","variantsColumn","textAlign","defaultChecked","onChange","checked","prevState","variantsCheckHandler","bordered","rowKey","hang","dataSource","pages","display","marginTop","visible","onOk","validateFields","values","resetFields","updateHanghoa","createHanghoa","catch","onCancel","layout","preserve","onValuesChange","changedValues","allValues","variants","c","s","push","gridTemplateColumns","gridColumnGap","Item","rules","required","placeholder","autoSize","minRows","maxRows","mode","showArrow","allowClear","options","map","value","__rest","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","propertyIsEnumerable","CheckableTag","props","_classNames","getPrefixCls","React","ConfigContext","customizePrefixCls","prefixCls","className","restProps","cls","classNames","_defineProperty","concat","_extends","PresetColorRegex","RegExp","PresetColorTypes","join","PresetStatusColorRegex","PresetStatusColorTypes","InternalTag","_a","ref","children","icon","closeIcon","_a$closable","_React$useContext","direction","_React$useState","_React$useState2","_slicedToArray","setVisible","isPresetColor","test","tagStyle","backgroundColor","undefined","presetColor","tagClassName","handleCloseClick","stopPropagation","defaultPrevented","isNeedWave","tagProps","omit","iconNode","kids","tagNode","CloseOutlined","Wave","Tag","displayName","condition","url","JSON","stringify","axios","get","error","result","post","changes","put","delete","Content","Layout","HanghoaPage","margin","padding","minHeight","background"],"mappings":"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","file":"route-hanghoa.chunk.eaf24.js","sourcesContent":["import { useEffect, useState, useMemo } from 'preact/hooks';\nimport { Form, Modal, Input, Select, Button, message, Typography, Tag, Table, Popconfirm, Switch } from 'antd';\nimport { EditFilled, DeleteFilled, PlusSquareFilled } from '@ant-design/icons';\nimport { getColorAll } from '../../utils/color.js';\nimport { getSizeAll } from '../../utils/size.js';\nimport { getHanghoaPage, createHanghoa, updateHanghoa, deleteHanghoa } from '../../utils/hanghoa.js';\n\nconst { TextArea } = Input;\nconst { Text, Title } = Typography;\n\nconst tagColor = ['#F06292', '#BA68C8', '#9575CD', '#303F9F', '#283593', '#304FFE', '#1E88E5', '#2962FF', '#00E5FF', '#00B8D4', '#006064', '#00BFA5', '#33691E', '#64DD17', '#F57F17', '#FF9100', '#FF3D00', '#8D6E63'];\n\nconst randomColor = () => {\n    return tagColor[Math.floor(Math.random() * tagColor.length)];\n}\n\nconst Hanghoa = () => {\n\n    // Table\n    const [data, setData] = useState([]);\n    const [pagination, setPagination] = useState({ current: 1, pageSize: 10, hideOnSinglePage: true, pageSizeOptions: [10, 20, 50, 100] });\n    const [loading, setLoading] = useState(false);\n\n    const columns = [\n        {\n            title: <Title ellipsis={true} level={5}>#</Title>,\n            dataIndex: 'index',\n            render: (text, record, index) => <Text>{index + 1}</Text>,\n            width: '2%',\n            align: 'center'\n        },\n        {\n            title: <Title ellipsis={true} level={5}>Tên hàng</Title>,\n            dataIndex: 'name',\n            render: (text, record, index) => <Text>{record.name}</Text>,\n            width: '80%'\n        },\n        {\n            title: <Title ellipsis={true} level={5}>Hành động</Title>,\n            dataIndex: 'action',\n            align: 'center',\n            width: 'auto',\n            render: (text, record, index) => (\n                <Text ellipsis={true}>\n                    <Button type='primary' onClick={e => showModalFunc(record)} style={{ marginRight: '0.25rem' }}><EditFilled /></Button>\n                    <Popconfirm\n                        title=\"Bạn có chắc muốn xoá?\"\n                        onConfirm={() => deleteRecord(record._id)}\n                        okText=\"Ok\"\n                        cancelText=\"Cancel\"\n                    >\n                        <Button type='danger'><DeleteFilled /></Button>\n                    </Popconfirm>\n                </Text>\n            )\n        }\n    ];\n\n    const fetchData = async (pageNumber, pageSize) => {\n        setLoading(true);\n        let res = await getHanghoaPage(pageNumber, pageSize);\n        setData(res.list);\n        setPagination(pagination => ({ ...pagination, total: res.totalItem, current: res.pageNumber, pageSize: res.pageSize }));\n        setLoading(false);\n    }\n\n    useEffect(() => {\n        fetchData(pagination.current, pagination.pageSize);\n    }, []);\n\n    const tableChange = (pages) => {\n        fetchData(pages.current, pages.pageSize);\n    }\n\n    const deleteRecord = async _id => {\n        await deleteHanghoa(_id);\n        message.success('Xoá thành công');\n        fetchData(pagination.current, pagination.pageSize);\n    }\n\n    // Modal\n    const [colorList, setColorList] = useState([]);\n    const [sizeList, setSizeList] = useState([]);\n\n    useEffect(() => {\n        getColorAll({ active: true }).then(res => setColorList(res));\n        getSizeAll({ active: true }).then(res => setSizeList(res));\n    }, [])\n\n    const [showModal, setShowModal] = useState(false);\n    const [confirmLoading, setConfirmLoading] = useState(false);\n    const [currentModalData, setCurrentModalData] = useState(null);\n    const [variantsData, setVariantsData] = useState(null);\n\n    const [form] = Form.useForm();\n\n    const tagRender = ({ label, value, closable, onClose }) => {\n        const color = useMemo(() => randomColor(), []);\n        return (\n            <Tag color={color} closable={closable} onClose={onClose} style={{ marginRight: '0.25rem' }}>\n                {label}\n            </Tag>\n        );\n    }\n\n    const showModalFunc = data => {\n        setCurrentModalData(data);\n        form.setFieldsValue({\n            name: data?.name,\n            description: data?.description,\n            color: data?.color,\n            size: data?.size,\n            sexes: data?.sexes\n        })\n        setShowModal(true);\n    }\n    const handleOK = async e => {\n        setConfirmLoading(true);\n\n        form\n            .validateFields()\n            .then(async values => {\n                form.resetFields();\n                if (!currentModalData) {\n                    await createHanghoa(values);\n                    message.success('Tạo mới thành công');\n                    fetchData(pagination.current, pagination.pageSize);\n                } else {\n                    await updateHanghoa(currentModalData._id, values);\n                    message.success('Cập nhật thành công');\n                    fetchData(pagination.current, pagination.pageSize);\n                }\n                setCurrentModalData(null);\n                setConfirmLoading(false);\n                setShowModal(false);\n            })\n            .catch(error => {\n                setConfirmLoading(false);\n            });\n\n    }\n    const handleCancel = e => {\n        form.resetFields();\n        setShowModal(false);\n        setCurrentModalData(null);\n    }\n\n    const onValuesChangeHandler = (changedValues, allValues) => {\n        // console.log('changedValues', changedValues);\n        // console.log('allValuesChange', allValues);\n        const { size, color, sexes } = allValues;\n        let variants = [];\n        for (const c of color) {\n            for (const s of size) {\n                for (const sex of sexes) {\n                    variants.push({ color: c, size: s, sexes: sex, active: true });\n                }\n            }\n        }\n        setVariantsData(variants);\n    }\n\n    const findName = (_id, list) => {\n        return list.find(x => x._id === _id).name;\n    }\n\n    const variantsCheckHandler = (checked, index) => {\n        setVariantsData(prevState => {\n            prevState[index].active = checked;\n            return prevState;\n        });\n    }\n\n    const variantsColumn = [\n        {\n            title: <Text ellipsis={true}>#</Text>,\n            dataIndex: 'index',\n            render: (text, record, index) => <Text>{index + 1}</Text>,\n            width: '2%',\n            align: 'center'\n        },\n        {\n            title: <Text ellipsis={true}>Màu</Text>,\n            dataIndex: 'color',\n            render: (text, record, index) => <Text>{findName(record.color, colorList)}</Text>,\n            width: 'auto'\n        },\n        {\n            title: <Text ellipsis={true}>Size</Text>,\n            dataIndex: 'size',\n            render: (text, record, index) => <Text>{findName(record.size, sizeList)}</Text>,\n            width: 'auto'\n        },\n        {\n            title: <Text ellipsis={true}>Nam hay nữ</Text>,\n            dataIndex: 'sexes',\n            render: (text, record, index) => <Text>{record.sexes}</Text>,\n            width: 'auto'\n        },\n        {\n            title: <Text ellipsis={true}>Kích hoạt</Text>,\n            dataIndex: 'active',\n            width: '10%',\n            render: (text, record, index) => (\n                <div style={{ textAlign: 'center' }}>\n                    <Switch defaultChecked={record.active} onChange={(checked, event) => variantsCheckHandler(checked, index)} />\n                </div>\n            )\n        }\n    ]\n\n    return (\n        <>\n            <Table\n                bordered\n                columns={columns}\n                rowKey={hang => hang._id}\n                dataSource={data}\n                pagination={pagination}\n                loading={loading}\n                onChange={tableChange}\n            />\n            <div style={{ display: 'flex', marginTop: '1rem' }}>\n                <Button type='primary' size='large' onClick={e => showModalFunc()}><PlusSquareFilled /></Button>\n            </div>\n            <Modal\n                title={<Title level={3}>{`${currentModalData ? `Chỉnh sửa` : `Tạo mới`} hàng`}</Title>}\n                visible={showModal}\n                onOk={handleOK}\n                onCancel={handleCancel}\n                confirmLoading={confirmLoading}\n                width='70%'\n            >\n                <Form\n                    form={form}\n                    layout='vertical'\n                    name='hanghoaForm'\n                    preserve={false}\n                    onValuesChange={onValuesChangeHandler}\n                >\n                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gridColumnGap: '1rem' }}>\n                        <div>\n                            <Form.Item\n                                name='name'\n                                label={<Title level={5}>Tên hàng</Title>}\n                                rules={[\n                                    {\n                                        required: true,\n                                        message: 'Không được để tên hàng trống'\n                                    }\n                                ]}\n                            >\n                                <Input placeholder=\"Tên hàng\" />\n                            </Form.Item>\n                            <Form.Item\n                                name='description'\n                                label={<Title level={5}>Mô tả hàng</Title>}\n                            >\n                                <TextArea autoSize={{ minRows: 6, maxRows: 10 }} placeholder='Mô tả hàng' />\n                            </Form.Item>\n                        </div>\n                        <div>\n                            <Form.Item\n                                name='color'\n                                label={<Title level={5}>Màu sắc hàng</Title>}\n                            >\n                                <Select\n                                    mode=\"multiple\"\n                                    showArrow\n                                    allowClear\n                                    style={{ width: '100%' }}\n                                    placeholder=\"Chọn màu\"\n                                    tagRender={tagRender}\n                                    size='large'\n                                    options={colorList.map(color => ({ label: color.name, value: color._id }))}\n                                />\n                            </Form.Item>\n                            <Form.Item\n                                name='size'\n                                label={<Title level={5}>Size hàng</Title>}\n                            >\n                                <Select\n                                    mode=\"multiple\"\n                                    showArrow\n                                    allowClear\n                                    style={{ width: '100%' }}\n                                    placeholder=\"Chọn size\"\n                                    tagRender={tagRender}\n                                    size='large'\n                                    options={sizeList.map(size => ({ label: size.name, value: size._id }))}\n                                />\n                            </Form.Item>\n                            <Form.Item\n                                name='sexes'\n                                label={<Title level={5}>Đồ Nam hay Nữ</Title>}\n                            >\n                                <Select\n                                    mode=\"multiple\"\n                                    showArrow\n                                    allowClear\n                                    style={{ width: '100%' }}\n                                    placeholder=\"Chọn giới tính\"\n                                    tagRender={tagRender}\n                                    size='large'\n                                    options={[{ label: 'Nam', value: 'Nam' }, { label: 'Nữ', value: 'Nữ' }]}\n                                />\n                            </Form.Item>\n                        </div>\n                    </div>\n                </Form>\n                <Title level={5}>Các phiên bản hàng</Title>\n                <Table\n                    bordered\n                    columns={variantsColumn}\n                    rowKey={hang => hang.color + hang.sexes + hang.size}\n                    dataSource={variantsData}\n                    pagination={{ pageSize: 5 }}\n                />\n            </Modal>\n        </>\n    );\n}\n\nexport default Hanghoa;","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigContext } from '../config-provider';\n\nvar CheckableTag = function CheckableTag(props) {\n  var _classNames;\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls;\n\n  var handleClick = function handleClick(e) {\n    var checked = props.checked,\n        onChange = props.onChange,\n        onClick = props.onClick;\n\n    if (onChange) {\n      onChange(!checked);\n    }\n\n    if (onClick) {\n      onClick(e);\n    }\n  };\n\n  var customizePrefixCls = props.prefixCls,\n      className = props.className,\n      checked = props.checked,\n      restProps = __rest(props, [\"prefixCls\", \"className\", \"checked\"]);\n\n  var prefixCls = getPrefixCls('tag', customizePrefixCls);\n  var cls = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-checkable\"), true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-checkable-checked\"), checked), _classNames), className);\n  delete restProps.onChange; // TypeScript cannot check delete now.\n\n  return /*#__PURE__*/React.createElement(\"span\", _extends({}, restProps, {\n    className: cls,\n    onClick: handleClick\n  }));\n};\n\nexport default CheckableTag;","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport CloseOutlined from '@ant-design/icons/CloseOutlined';\nimport CheckableTag from './CheckableTag';\nimport { ConfigContext } from '../config-provider';\nimport { PresetColorTypes, PresetStatusColorTypes } from '../_util/colors';\nimport Wave from '../_util/wave';\nvar PresetColorRegex = new RegExp(\"^(\".concat(PresetColorTypes.join('|'), \")(-inverse)?$\"));\nvar PresetStatusColorRegex = new RegExp(\"^(\".concat(PresetStatusColorTypes.join('|'), \")$\"));\n\nvar InternalTag = function InternalTag(_a, ref) {\n  var _classNames;\n\n  var customizePrefixCls = _a.prefixCls,\n      className = _a.className,\n      style = _a.style,\n      children = _a.children,\n      icon = _a.icon,\n      color = _a.color,\n      onClose = _a.onClose,\n      closeIcon = _a.closeIcon,\n      _a$closable = _a.closable,\n      closable = _a$closable === void 0 ? false : _a$closable,\n      props = __rest(_a, [\"prefixCls\", \"className\", \"style\", \"children\", \"icon\", \"color\", \"onClose\", \"closeIcon\", \"closable\"]);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var _React$useState = React.useState(true),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      visible = _React$useState2[0],\n      setVisible = _React$useState2[1];\n\n  React.useEffect(function () {\n    if ('visible' in props) {\n      setVisible(props.visible);\n    }\n  }, [props.visible]);\n\n  var isPresetColor = function isPresetColor() {\n    if (!color) {\n      return false;\n    }\n\n    return PresetColorRegex.test(color) || PresetStatusColorRegex.test(color);\n  };\n\n  var tagStyle = _extends({\n    backgroundColor: color && !isPresetColor() ? color : undefined\n  }, style);\n\n  var presetColor = isPresetColor();\n  var prefixCls = getPrefixCls('tag', customizePrefixCls);\n  var tagClassName = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(color), presetColor), _defineProperty(_classNames, \"\".concat(prefixCls, \"-has-color\"), color && !presetColor), _defineProperty(_classNames, \"\".concat(prefixCls, \"-hidden\"), !visible), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n\n  var handleCloseClick = function handleCloseClick(e) {\n    e.stopPropagation();\n\n    if (onClose) {\n      onClose(e);\n    }\n\n    if (e.defaultPrevented) {\n      return;\n    }\n\n    if (!('visible' in props)) {\n      setVisible(false);\n    }\n  };\n\n  var renderCloseIcon = function renderCloseIcon() {\n    if (closable) {\n      return closeIcon ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-close-icon\"),\n        onClick: handleCloseClick\n      }, closeIcon) : /*#__PURE__*/React.createElement(CloseOutlined, {\n        className: \"\".concat(prefixCls, \"-close-icon\"),\n        onClick: handleCloseClick\n      });\n    }\n\n    return null;\n  };\n\n  var isNeedWave = 'onClick' in props || children && children.type === 'a';\n  var tagProps = omit(props, ['visible']);\n  var iconNode = icon || null;\n  var kids = iconNode ? /*#__PURE__*/React.createElement(React.Fragment, null, iconNode, /*#__PURE__*/React.createElement(\"span\", null, children)) : children;\n  var tagNode = /*#__PURE__*/React.createElement(\"span\", _extends({}, tagProps, {\n    ref: ref,\n    className: tagClassName,\n    style: tagStyle\n  }), kids, renderCloseIcon());\n  return isNeedWave ? /*#__PURE__*/React.createElement(Wave, null, tagNode) : tagNode;\n};\n\nvar Tag = /*#__PURE__*/React.forwardRef(InternalTag);\nTag.displayName = 'Tag';\nTag.CheckableTag = CheckableTag;\nexport default Tag;","import axios from 'axios';\n\nexport const getHanghoaItem = async (_id) => {\n    const url = `/api/hanghoa/item?_id=${_id}`;\n    let res = await axios.get(url);\n    if (res.data.error) {\n        return [];\n    }\n    return res.data.result;\n}\nexport const getHanghoaPage = async (pageNumber, pageSize, condition) => {\n    const url = `/api/hanghoa/page?pageNumber=${pageNumber}&pageSize=${pageSize}` + (condition ? `&condition=${JSON.stringify(condition)}` : '');\n    let res = await axios.get(url);\n    if (res.data.error) {\n        return [];\n    }\n    return res.data.result;\n}\nexport const getHanghoaAll = async (condition) => {\n    const url = `/api/hanghoa/all` + (condition ? `?condition=${JSON.stringify(condition)}` : '');\n    let res = await axios.get(url);\n    if (res.data.error) {\n        return [];\n    }\n    return res.data.result;\n}\nexport const createHanghoa = async (data) => {\n    const url = `/api/hanghoa`;\n    let res = await axios.post(url, data);\n    if (res.data.error) {\n        return [];\n    }\n    return res.data.result;\n}\nexport const updateHanghoa = async (_id, changes) => {\n    const url = `/api/hanghoa`;\n    let res = await axios.put(url, { _id, changes });\n    if (res.data.error) {\n        return [];\n    }\n    return res.data.result;\n}\nexport const deleteHanghoa = async (_id) => {\n    const url = `/api/hanghoa?_id=${_id}`;\n    await axios.delete(url);\n}\n","import { Layout } from 'antd';\nimport Hanghoa from '../components/hanghoa/Hanghoa.jsx';\n\nconst { Content } = Layout;\n\nconst HanghoaPage = () => {\n    return (\n        <Content style={{ margin: '1rem 1rem 0 1rem' }}>\n            <div className=\"site-layout-background\" style={{ padding: 24, minHeight: 360, background: 'white' }}>\n                <Hanghoa />\n            </div>\n        </Content>\n    );\n}\n\nexport default HanghoaPage;"],"sourceRoot":""}